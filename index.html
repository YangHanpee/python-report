<py-script>
    from js import document
    
    def calculate(event):
        # 獲取用戶選項和輸入
        operation = document.querySelector("#operation").value
        num1_input = document.querySelector("#num1").value
        num2_input = document.querySelector("#num2").value
    
        try:
            num1 = float(num1_input)
            num2 = float(num2_input)
        except ValueError:
            document.querySelector("#result").innerText = "請輸入有效的數字！"
            return
    
        # 執行運算
        if operation == "1":
            result = num1 + num2
        elif operation == "2":
            result = num1 - num2
        elif operation == "3":
            result = num1 * num2
        elif operation == "4":
            if num2 != 0:
                result = num1 / num2
            else:
                document.querySelector("#result").innerText = "除數不能為 0！"
                return
        else:
            document.querySelector("#result").innerText = "無效選項！"
            return
    
        # 顯示結果
        document.querySelector("#result").innerText = f"結果是：{result:.2f}"
    
    document.querySelector("#calculate-button").addEventListener("click", calculate)
    </py-script>
    